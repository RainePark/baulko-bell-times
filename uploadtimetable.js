// code is obfuscated to prevent stealing sorry :(
// if you have a valid reason for needing to see the code, please contact ergret@pm.me
var _0x16ff8c=_0x2a8c;(function(_0x15a52d,_0x239f5c){var _0x385954=_0x2a8c,_0x22598c=_0x15a52d();while(!![]){try{var _0x14b1f0=parseInt(_0x385954(0x8d))/0x1*(parseInt(_0x385954(0x7e))/0x2)+-parseInt(_0x385954(0x82))/0x3*(-parseInt(_0x385954(0x6c))/0x4)+-parseInt(_0x385954(0x6b))/0x5*(-parseInt(_0x385954(0x91))/0x6)+-parseInt(_0x385954(0x7b))/0x7*(-parseInt(_0x385954(0x7d))/0x8)+-parseInt(_0x385954(0x7a))/0x9+-parseInt(_0x385954(0x8c))/0xa+-parseInt(_0x385954(0x72))/0xb;if(_0x14b1f0===_0x239f5c)break;else _0x22598c['push'](_0x22598c['shift']());}catch(_0x80a00a){_0x22598c['push'](_0x22598c['shift']());}}}(_0x8db4,0x8c725));var myFile=document[_0x16ff8c(0x8e)](_0x16ff8c(0x8b)),jcaldata,jsontimetable,days=[_0x16ff8c(0x6d),_0x16ff8c(0x73),_0x16ff8c(0x8a),_0x16ff8c(0x88),_0x16ff8c(0x79),'Friday','Saturday'];myFile['addEventListener'](_0x16ff8c(0x92),function(){var _0x5adf5c=_0x16ff8c,_0x48424c=new FileReader();_0x48424c[_0x5adf5c(0x96)]=function(){var _0x4e5410=_0x5adf5c;jcaldata=ICAL[_0x4e5410(0x67)](_0x48424c['result'])[0x2],parseTimetable();},_0x48424c[_0x5adf5c(0x93)](this[_0x5adf5c(0x69)][0x0]);}),Date[_0x16ff8c(0x84)][_0x16ff8c(0x80)]=function(_0xbec240){var _0x272332=_0x16ff8c,_0x368ed5=new Date(this[_0x272332(0x6e)]());return _0x368ed5[_0x272332(0x75)](_0x368ed5[_0x272332(0x78)]()+_0xbec240),_0x368ed5;};function isInArray(_0x22ed0f,_0xd8b0a4){return!!_0x22ed0f['find'](_0x270cc9=>{var _0x6a9168=_0x2a8c;return _0x270cc9['getTime']()==_0xd8b0a4[_0x6a9168(0x74)]();});}function _0x2a8c(_0x311867,_0x49996c){var _0x8db40e=_0x8db4();return _0x2a8c=function(_0x2a8c16,_0xd4262f){_0x2a8c16=_0x2a8c16-0x67;var _0x1e008a=_0x8db40e[_0x2a8c16];return _0x1e008a;},_0x2a8c(_0x311867,_0x49996c);}function capitalizeWords(_0x9e2435){var _0x2d80eb=_0x16ff8c;return _0x9e2435[_0x2d80eb(0x77)]()[_0x2d80eb(0x87)]('\x20')[_0x2d80eb(0x71)](_0x46df87=>_0x46df87[_0x2d80eb(0x68)](0x0)['toUpperCase']()+_0x46df87['slice'](0x1))[_0x2d80eb(0x70)]('\x20');}function parseTimetable(){var _0x202ddf=_0x16ff8c;const _0x3f18ce=[],_0x3b4216=[];firstmondayvevent=findFirstMonday(),firsteventdate=new Date(firstmondayvevent[_0x202ddf(0x85)]()),lasteventdate=new Date(firstmondayvevent[_0x202ddf(0x80)](0x4)[_0x202ddf(0x85)]()),currentveventdate=firsteventdate;let _0x2c2133=0x1;while(currentveventdate<=lasteventdate){currentvevent=jcaldata[_0x2c2133][0x1],currentveventdate=new Date(new Date(currentvevent[0x0][0x3])[_0x202ddf(0x85)]()),currentveventdate<=lasteventdate&&currentveventdate>=firsteventdate&&(currentveventperiod=currentvevent[0x4][0x3][_0x202ddf(0x87)]('\x0a')[0x1][_0x202ddf(0x95)](_0x202ddf(0x7f),''),currentveventname=currentvevent[0x5][0x3],currentveventlocation=currentvevent[0x6][0x3]['replace']('Room:\x20',''),currentveventteacher=capitalizeWords(currentvevent[0x4][0x3][_0x202ddf(0x87)]('\x0a')[0x0][_0x202ddf(0x95)]('Teacher:\x20\x20','')[_0x202ddf(0x77)]()),currentveventperiod[_0x202ddf(0x89)]<=0x8&&(parseInt(currentveventperiod[_0x202ddf(0x81)](-0x1))>=0x1&&parseInt(currentveventperiod[_0x202ddf(0x81)](-0x1))<=0x8&&(currentveventperiod=currentveventperiod[_0x202ddf(0x81)](-0x1),tempclassdetails=[currentveventdate,currentveventperiod,currentveventname,currentveventlocation,currentveventteacher],_0x3f18ce[_0x202ddf(0x8f)](tempclassdetails),isInArray(_0x3b4216,currentveventdate)==![]&&_0x3b4216[_0x202ddf(0x8f)](currentveventdate)))),_0x2c2133++;}createTimetableJson(_0x3f18ce,_0x3b4216);}function findFirstMonday(){var _0x36280e=_0x16ff8c;for(let _0x52c0e1=0x0;_0x52c0e1<jcaldata[_0x36280e(0x89)];_0x52c0e1++){var _0x2fb785=new Date(jcaldata[_0x52c0e1][0x1][0x0][0x3]);if(_0x2fb785[_0x36280e(0x6a)]()==0x1)return _0x2fb785;}}function createTimetableJson(_0x546f20,_0x5855f8){var _0x1c53ab=_0x16ff8c,_0x57b635={};let _0x2cb99c=0x0;for(let _0xd20636=0x0;_0xd20636<_0x5855f8[_0x1c53ab(0x89)];_0xd20636++){var _0x29400f={},_0x855cff=![];while(_0x855cff==![]){classlistitemtemp=_0x546f20[_0x2cb99c],classlistitemtemp[0x0][_0x1c53ab(0x74)]()==_0x5855f8[_0xd20636][_0x1c53ab(0x74)]()?(_0x29400f[classlistitemtemp[0x1]]=[classlistitemtemp[0x2],classlistitemtemp[0x3],classlistitemtemp[0x4]],_0x546f20[_0x2cb99c+0x1]!=undefined?_0x2cb99c++:(_0x57b635[days[_0x5855f8[_0xd20636]['getDay']()]]=_0x29400f,_0x855cff=!![])):(_0x57b635[days[_0x5855f8[_0xd20636][_0x1c53ab(0x6a)]()]]=_0x29400f,_0x855cff=!![]);}}jsontimetable=JSON['stringify'](_0x57b635),localStorage[_0x1c53ab(0x7c)](_0x1c53ab(0x6f))!=null&&localStorage[_0x1c53ab(0x94)](_0x1c53ab(0x6f)),localStorage[_0x1c53ab(0x83)]('userTimetable',jsontimetable),document[_0x1c53ab(0x8e)](_0x1c53ab(0x86))[_0x1c53ab(0x90)]=_0x1c53ab(0x76);}function _0x8db4(){var _0x56a779=['push','innerHTML','12NcsnXU','change','readAsText','removeItem','replace','onload','parse','charAt','files','getDay','2630665ZoCaXH','4ileZDb','Sunday','valueOf','userTimetable','join','map','16800619fQiguO','Monday','getTime','setDate','Timetable\x20saved\x20successfully!\x20Please\x20<a\x20class=\x27link\x27\x20href=\x27/\x27>return\x20to\x20the\x20main\x20page<a>\x20to\x20see\x20your\x20timetable.','toLowerCase','getDate','Thursday','7033500imFLGd','2455873kcgRep','getItem','8UzWbDH','70DukbPp','Period:\x20','addDays','slice','3053253nhmhOw','setItem','prototype','toDateString','uploadstatus','split','Wednesday','length','Tuesday','timetableupload','3084380UUjLmo','22048nqphVf','getElementById'];_0x8db4=function(){return _0x56a779;};return _0x8db4();}