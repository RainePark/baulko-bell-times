// code is obfuscated to prevent stealing sorry :(
// if you have a valid reason for needing to see the code, please contact ergret@pm.me
var _0x1e2184=_0x28b8;(function(_0x1e6a10,_0x3e4aba){var _0x3f94ca=_0x28b8,_0x219544=_0x1e6a10();while(!![]){try{var _0xba7482=-parseInt(_0x3f94ca(0x1a1))/0x1+-parseInt(_0x3f94ca(0x186))/0x2*(-parseInt(_0x3f94ca(0x182))/0x3)+-parseInt(_0x3f94ca(0x18a))/0x4*(parseInt(_0x3f94ca(0x18f))/0x5)+-parseInt(_0x3f94ca(0x188))/0x6*(parseInt(_0x3f94ca(0x170))/0x7)+parseInt(_0x3f94ca(0x185))/0x8+-parseInt(_0x3f94ca(0x173))/0x9+-parseInt(_0x3f94ca(0x17e))/0xa*(-parseInt(_0x3f94ca(0x191))/0xb);if(_0xba7482===_0x3e4aba)break;else _0x219544['push'](_0x219544['shift']());}catch(_0xbdfdee){_0x219544['push'](_0x219544['shift']());}}}(_0x2333,0x82db1));var myFile=document[_0x1e2184(0x19d)](_0x1e2184(0x184)),jcaldata,jsontimetable,days=[_0x1e2184(0x17d),_0x1e2184(0x181),_0x1e2184(0x1a3),_0x1e2184(0x17a),_0x1e2184(0x175),'Friday',_0x1e2184(0x19c)];myFile[_0x1e2184(0x1a2)](_0x1e2184(0x19b),function(){var _0x507eb7=_0x1e2184,_0x104989=new FileReader();_0x104989[_0x507eb7(0x199)]=function(){var _0x421a42=_0x507eb7;jcaldata=ICAL['parse'](_0x104989[_0x421a42(0x1a0)])[0x2];try{parseTimetable();}catch{document[_0x421a42(0x19d)](_0x421a42(0x18b))[_0x421a42(0x16f)]=_0x421a42(0x16b),document[_0x421a42(0x19d)](_0x421a42(0x18b))[_0x421a42(0x1a4)][_0x421a42(0x19f)]=_0x421a42(0x179);}},_0x104989[_0x507eb7(0x180)](this[_0x507eb7(0x183)][0x0]);}),Date['prototype'][_0x1e2184(0x18c)]=function(_0xdd6b50){var _0x49e087=_0x1e2184,_0x11ae55=new Date(this['valueOf']());return _0x11ae55[_0x49e087(0x195)](_0x11ae55[_0x49e087(0x177)]()+_0xdd6b50),_0x11ae55;};function _0x2333(){var _0x2076a5=['userTimetable','color','result','448053oMtgGW','addEventListener','Tuesday','style','Status:\x20Timetable\x20upload\x20failed.\x20Please\x20try\x20again\x20or\x20check\x20you\x20have\x20uploaded\x20the\x20correct\x20file.','setItem','Status:\x20Timetable\x20deleted\x20successfully!\x20<a\x20class=\x27link\x27\x20href=\x27/\x27>Click\x20here<a>\x20to\x20return\x20to\x20the\x20main\x20page.','charAt','innerHTML','245bEyOhJ','getTime','Room:\x20','2060055IdmiAW','toDateString','Thursday','replace','getDate','map','rgb(255,0,0)','Wednesday','rgb(0,200,0)','stringify','Sunday','10020630gRRUgu','split','readAsText','Monday','1572069vYcXTz','files','timetableupload','4141008bvmUCv','2ITdxEm','Teacher:\x20\x20','58266EXSQIk','length','981788ZjIgoP','uploadstatus','addDays','log','toLowerCase','10sIloKh','join','11CtdaDv','rgb(0,255,0)','find','slice','setDate','getItem','removeItem','getDay','onload','Status:\x20Timetable\x20already\x20uploaded.\x20Ready\x20to\x20accept\x20new\x20user\x20upload...','change','Saturday','getElementById'];_0x2333=function(){return _0x2076a5;};return _0x2333();}function isInArray(_0x4987ce,_0x1a114c){var _0x411996=_0x1e2184;return!!_0x4987ce[_0x411996(0x193)](_0x23b7ed=>{var _0x2d86c5=_0x411996;return _0x23b7ed[_0x2d86c5(0x171)]()==_0x1a114c[_0x2d86c5(0x171)]();});}function _0x28b8(_0x17c77c,_0x384253){var _0x233314=_0x2333();return _0x28b8=function(_0x28b822,_0x4ccf12){_0x28b822=_0x28b822-0x16b;var _0x299e57=_0x233314[_0x28b822];return _0x299e57;},_0x28b8(_0x17c77c,_0x384253);}function capitalizeWords(_0x3b7a50){var _0x58eea2=_0x1e2184;return _0x3b7a50[_0x58eea2(0x18e)]()['split']('\x20')[_0x58eea2(0x178)](_0x51077e=>_0x51077e[_0x58eea2(0x16e)](0x0)['toUpperCase']()+_0x51077e[_0x58eea2(0x194)](0x1))[_0x58eea2(0x190)]('\x20');}function parseTimetable(){var _0x1e4d92=_0x1e2184;const _0x1aa07f=[],_0x3434f9=[];firstmondayvevent=findFirstMonday(),firsteventdate=new Date(firstmondayvevent[_0x1e4d92(0x174)]()),lasteventdate=new Date(firstmondayvevent['addDays'](0x4)[_0x1e4d92(0x174)]()),currentveventdate=firsteventdate;let _0x16a947=0x1;while(currentveventdate<=lasteventdate){currentvevent=jcaldata[_0x16a947][0x1],currentveventdate=new Date(new Date(currentvevent[0x0][0x3])[_0x1e4d92(0x174)]()),currentveventdate<=lasteventdate&&currentveventdate>=firsteventdate&&(currentveventperiod=currentvevent[0x4][0x3]['split']('\x0a')[0x1][_0x1e4d92(0x176)]('Period:\x20',''),currentveventname=currentvevent[0x5][0x3],currentveventlocation=currentvevent[0x6][0x3][_0x1e4d92(0x176)](_0x1e4d92(0x172),''),currentveventteacher=capitalizeWords(currentvevent[0x4][0x3][_0x1e4d92(0x17f)]('\x0a')[0x0][_0x1e4d92(0x176)](_0x1e4d92(0x187),'')[_0x1e4d92(0x18e)]()),currentveventperiod[_0x1e4d92(0x189)]<=0x8&&(parseInt(currentveventperiod[_0x1e4d92(0x194)](-0x1))>=0x1&&parseInt(currentveventperiod[_0x1e4d92(0x194)](-0x1))<=0x8&&(currentveventperiod=currentveventperiod[_0x1e4d92(0x194)](-0x1),tempclassdetails=[currentveventdate,currentveventperiod,currentveventname,currentveventlocation,currentveventteacher],_0x1aa07f['push'](tempclassdetails),isInArray(_0x3434f9,currentveventdate)==![]&&_0x3434f9['push'](currentveventdate)))),_0x16a947++;}createTimetableJson(_0x1aa07f,_0x3434f9);}function findFirstMonday(){var _0x12abe4=_0x1e2184;for(let _0x16a5a8=0x0;_0x16a5a8<jcaldata[_0x12abe4(0x189)];_0x16a5a8++){var _0x41e80e=new Date(jcaldata[_0x16a5a8][0x1][0x0][0x3]);if(_0x41e80e[_0x12abe4(0x198)]()==0x1)return _0x41e80e;}}function createTimetableJson(_0x291729,_0x3094d6){var _0xf650af=_0x1e2184,_0x2cb096={};let _0xb93835=0x0;for(let _0x274a77=0x0;_0x274a77<_0x3094d6['length'];_0x274a77++){var _0x335f84={},_0x2845d2=![];while(_0x2845d2==![]){classlistitemtemp=_0x291729[_0xb93835],classlistitemtemp[0x0]['getTime']()==_0x3094d6[_0x274a77][_0xf650af(0x171)]()?(_0x335f84[classlistitemtemp[0x1]]=[classlistitemtemp[0x2],classlistitemtemp[0x3],classlistitemtemp[0x4]],_0x291729[_0xb93835+0x1]!=undefined?_0xb93835++:(_0x2cb096[days[_0x3094d6[_0x274a77]['getDay']()]]=_0x335f84,_0x2845d2=!![])):(_0x2cb096[days[_0x3094d6[_0x274a77][_0xf650af(0x198)]()]]=_0x335f84,_0x2845d2=!![]);}}jsontimetable=JSON[_0xf650af(0x17c)](_0x2cb096),localStorage[_0xf650af(0x196)]('userTimetable')!=null&&localStorage[_0xf650af(0x197)](_0xf650af(0x19e)),localStorage[_0xf650af(0x16c)](_0xf650af(0x19e),jsontimetable),document['getElementById'](_0xf650af(0x18b))[_0xf650af(0x16f)]='Status:\x20Timetable\x20saved\x20successfully!\x20Please\x20<a\x20class=\x27link\x27\x20href=\x27/\x27>return\x20to\x20the\x20main\x20page<a>\x20to\x20see\x20your\x20timetable.',document[_0xf650af(0x19d)](_0xf650af(0x18b))[_0xf650af(0x1a4)][_0xf650af(0x19f)]=_0xf650af(0x192);}function clearTimetableStorage(){var _0x9fe7f3=_0x1e2184;try{localStorage[_0x9fe7f3(0x197)](_0x9fe7f3(0x19e)),document[_0x9fe7f3(0x19d)](_0x9fe7f3(0x18b))[_0x9fe7f3(0x16f)]=_0x9fe7f3(0x16d),document[_0x9fe7f3(0x19d)](_0x9fe7f3(0x18b))['style'][_0x9fe7f3(0x19f)]=_0x9fe7f3(0x192);}catch{}}localStorage[_0x1e2184(0x196)]('userTimetable')!=null&&(console[_0x1e2184(0x18d)](localStorage['getItem']('userTimetable')),document[_0x1e2184(0x19d)]('uploadstatus')[_0x1e2184(0x16f)]=_0x1e2184(0x19a),document[_0x1e2184(0x19d)](_0x1e2184(0x18b))['style'][_0x1e2184(0x19f)]=_0x1e2184(0x17b));